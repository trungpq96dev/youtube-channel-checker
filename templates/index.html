<!DOCTYPE html>
<html>
<head>
  <title>YouTube Channel Checker</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

<h3>YouTube Channel Checker (Python)</h3>

<form method="post">
  <textarea name="channels" class="form-control" rows="6"
    placeholder="Mỗi dòng 1 link kênh YouTube"></textarea>

<select name="sort_by" class="form-select">
    <option value="">-- Không sắp xếp --</option>
    <option value="Total Views">Sort by View</option>
    <option value="Video Count">Sort by Video</option>
    <option value="Subscribers">Sort by Subscribers</option>
</select>

  <button class="btn btn-primary mt-3">Check</button>
  <a href="/export" class="btn btn-success mt-3">Export Excel</a>
</form>

<hr>

<h5>Kết quả</h5>
<table class="table table-bordered">
<tr>
  <th>Kênh</th>
  <th>Sub</th>
  <th>View</th>
  <th>Video</th>
  <th>Link</th>
  <th>View + / -</th>
</tr>
{% for r in data %}
<tr>
  <td>{{ r["Channel Name"] }}</td>
  <td>{{ r["Subscribers"] }}</td>
  <td>{{ r["Total Views"] }}</td>
  <td>{{ r["Video Count"] }}</td>
  <td>
    <a href="{{ r['Channel URL'] }}" target="_blank">
      Open
    </a>
  </td>
  <td>{{ r["View Change"] }}</td>
</tr>
{% endfor %}
</table>

</body>
</html>
